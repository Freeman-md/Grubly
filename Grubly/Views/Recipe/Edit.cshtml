@model Grubly.ViewModels.RecipeFormViewModel
@{
    ViewData["Title"] = "Update Recipe";
    }


    <section class="max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-md">
        <h2 class="text-2xl font-bold mb-6 text-gray-800">Update Recipe</h2>
    
        <form asp-controller="Recipe" asp-action="Update" asp-route-id="@Model.ID" method="post" enctype="multipart/form-data" class="space-y-4">
            <div asp-validation-summary="All" class="text-red-500 text-sm"></div>
    
            <div class="input-group">
                <label asp-for="Title"></label>
                <input type="text" asp-for="Title">
                <span asp-validation-for="Title" class="text-red-500 text-sm"></span>
            </div>
    
            <div class="grid grid-cols-2 gap-4">
                <div class="input-group">
                    <label asp-for="CuisineType">Cuisine Type</label>
                    <select asp-for="CuisineType" asp-items="Html.GetEnumSelectList<CuisineType>()"></select>
                    <span asp-validation-for="CuisineType" class="text-red-500 text-sm"></span>
                </div>
    
                <div class="input-group">
                    <label asp-for="DifficultyLevel">Difficulty Level</label>
                    <select asp-for="DifficultyLevel" asp-items="Html.GetEnumSelectList<DifficultyLevel>()"></select>
                    <span asp-validation-for="DifficultyLevel" class="text-red-500 text-sm"></span>
                </div>
            </div>
    
            <div class="input-group">
                <label>Ingredients</label>
                <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4">
                    @for (int i = 0; i < Model.AvailableIngredients.Count; i++) { <div class="flex items-center space-x-2">
                        <input type="checkbox" asp-for="@Model.SelectedIngredients[i]" />
                        <label asp-for="@Model.SelectedIngredients[i]"
                            class="!mb-0">@Model.AvailableIngredients[i].Name</label>
                </div>
                }
            </div>
            <span asp-validation-for="SelectedIngredients" class="text-red-500 text-sm"></span>
            </div>
    
            <div class="input-group">
                <label>Categories</label>
                <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4">
                    @for (int i = 0; i < Model.AvailableCategories.Count; i++) { <div class="flex items-center space-x-2">
                        <input type="checkbox" asp-for="@Model.SelectedCategories[i]" />
                        <label asp-for="@Model.SelectedCategories[i]"
                            class="!mb-0">@Model.AvailableCategories[i].Name</label>
                </div>
                }
            </div>
            <span asp-validation-for="SelectedCategories" class="text-red-500 text-sm"></span>
            </div>
    
            <div class="input-group">
                <label asp-for="Description"></label>
                <textarea asp-for="Description" class="resize-none"></textarea>
                <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
            </div>
    
            <div class="input-group">
                <label asp-for="Instructions"></label>
                <textarea asp-for="Instructions" class="resize-none"></textarea>
                <p asp-validation-for="Instructions" class="text-red-500 text-sm"></p>
            </div>
    
            <div class="input-group">
                <label asp-for="ImageUrl">Upload Image</label>
                <input type="file" asp-for="ImageUrl" />
                <span asp-validation-for="ImageUrl" class="text-red-500 text-sm"></span>
            </div>
    
            <div class="text-right">
                <button type="submit"
                    class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                    Update Recipe
                </button>
            </div>
        </form>
    </section>